#/bin/sh

if [ -e /opt/java ]; then
	JAVA_HOME=/opt/java
else
	for j in /opt/jdk*/bin/java /opt/jre*/bin/java; do
		if [ -f $j ]; then
			JAVA_HOME=$(dirname $(dirname $j))
			break;
		fi
	done

	echo "Note: No java installs found in opt"
	echo "Note: Fallback to system java"
fi

if [ -z $JAVA_HOME ]; then
	echo "Error: unable to find a java install."
	exit 1
fi

echo "Using java in $JAVA_HOME"
JRE_HOME=$JAVA_HOME
PATH="$JAVA_HOME/java/bin:$PATH"

java -jar /opt/TechnicLauncher/jar/TechnicLauncher.jar
